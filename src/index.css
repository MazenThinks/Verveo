@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
        overflow-x: hidden;
    }

    body {
        @apply text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-950 antialiased transition-colors duration-300;
        font-feature-settings: 'cv11', 'ss01';
        font-optical-sizing: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
        max-width: 100vw;
    }

    ::selection {
        @apply bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100;
    }

    /* Skip to content link for keyboard navigation */
    .skip-to-content {
        @apply absolute top-0 left-0 bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 px-6 py-3 rounded-br-lg;
        @apply transform -translate-y-full focus:translate-y-0 transition-transform;
        @apply z-[100] focus:outline-none focus:ring-2 focus:ring-white dark:focus:ring-slate-900;
    }

    /* Remove default browser outline and replace with custom focus styles */
    *,
    *:focus,
    *:focus-visible,
    *:active {
        outline: none !important;
    }

    /* Custom accessible focus styles for keyboard navigation only */
    button:focus-visible,
    a:focus-visible,
    input:focus-visible,
    select:focus-visible,
    textarea:focus-visible,
    [role="button"]:focus-visible,
    [tabindex]:not([tabindex="-1"]):focus-visible {
        @apply outline-none ring-2 ring-slate-900 ring-offset-2;
        box-shadow: 0 0 0 2px white, 0 0 0 4px rgb(15 23 42);
    }

    /* Enhanced focus for form inputs */
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible {
        @apply ring-2 ring-slate-900 ring-offset-0;
        border-color: rgb(15 23 42) !important;
    }

    /* Remove focus ring on click, only show on keyboard navigation */
    button:focus:not(:focus-visible),
    a:focus:not(:focus-visible),
    input:focus:not(:focus-visible),
    select:focus:not(:focus-visible),
    textarea:focus:not(:focus-visible) {
        outline: none !important;
        box-shadow: none !important;
    }
}

@layer components {
    .container-custom {
        @apply mx-auto max-w-7xl px-6;
    }

    @screen sm {
        .container-custom {
            @apply px-8;
        }
    }

    @screen lg {
        .container-custom {
            @apply px-12;
        }
    }

    /* Soft Surface */
    .surface {
        @apply bg-white shadow-soft rounded-3xl;
    }

    .surface-hover {
        @apply transition-all duration-500 hover:shadow-soft-lg hover:-translate-y-0.5;
    }

    /* Premium Button */
    .btn-primary {
        @apply px-6 py-3 bg-slate-900 text-white font-medium rounded-full;
        @apply transition-all duration-300 hover:bg-slate-800 hover:shadow-soft-lg;
        @apply active:scale-[0.98];
    }

    .btn-secondary {
        @apply px-6 py-3 bg-white text-slate-900 font-medium rounded-full;
        @apply border border-stone-200 transition-all duration-300;
        @apply hover:border-stone-300 hover:bg-stone-50 hover:shadow-soft;
        @apply active:scale-[0.98];
    }

    /* Interactive Elements */
    .interactive-scale {
        @apply transition-transform duration-300 hover:scale-[1.02] active:scale-[0.98];
    }

    .interactive-lift {
        @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-soft-lg;
    }

    /* Elegant Text */
    .text-muted {
        @apply text-slate-600;
    }

    .text-subtle {
        @apply text-slate-500;
    }
}

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    /* Soft focus states */
    .focus-soft {
        @apply focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:ring-offset-2;
    }

    /* Gradient overlays */
    .gradient-fade-b {
        background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.02));
    }

    .gradient-fade-t {
        background: linear-gradient(to top, transparent, rgba(0, 0, 0, 0.02));
    }

    /* Hide scrollbar */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Performance optimizations for smooth animations */
    .animate-smooth {
        will-change: transform, opacity;
        transform: translateZ(0);
        backface-visibility: hidden;
    }

    /* Prevent layout shift during animations */
    .prevent-shift {
        contain: layout style paint;
    }
}